# çŸ­è§†é¢‘/å›¾é›†æå– MCP æœåŠ¡å™¨

åŸºäº Solon æ¡†æ¶çš„ Model Context Protocol (MCP) æœåŠ¡å™¨ï¼Œæ”¯æŒä»å¤šä¸ªçŸ­è§†é¢‘å¹³å°è·å–æ— æ°´å°è§†é¢‘ä¸‹è½½é“¾æ¥ï¼Œå¹¶æ”¯æŒä»è§†é¢‘ä¸­æå–æ–‡æœ¬å†…å®¹ã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

- ğŸ”— ä»åˆ†äº«é“¾æ¥è·å–æ— æ°´å°è§†é¢‘/å›¾é›†ä¸‹è½½é“¾æ¥
- ğŸ¤ ä»è§†é¢‘ä¸­æå–æ–‡æœ¬å†…å®¹ï¼ˆè¯­éŸ³è¯†åˆ«ï¼‰
- ğŸ“± æ¨¡æ‹Ÿç§»åŠ¨ç«¯è®¿é—®ï¼Œç»•è¿‡æ°´å°é™åˆ¶
- ğŸ¯ è§£æè§†é¢‘åŸºæœ¬ä¿¡æ¯ï¼ˆIDã€æ ‡é¢˜ã€ä¸‹è½½åœ°å€ã€ä½œè€…ä¿¡æ¯ï¼‰
- ğŸ–¼ï¸ æ”¯æŒå›¾é›†è§£æï¼ˆå°çº¢ä¹¦å›¾æ–‡å†…å®¹ï¼‰
- ğŸ¬ è‡ªåŠ¨ä¸‹è½½è§†é¢‘å¹¶æå–éŸ³é¢‘
- ğŸ—£ï¸ é›†æˆè¯­éŸ³è¯†åˆ«APIï¼ˆSiliconFlowï¼‰
- ğŸ§¹ è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- ğŸ› ï¸ åŸºäº Solon AI MCP æ¡†æ¶å®ç°
- âš¡ é«˜æ€§èƒ½å¼‚æ­¥å¤„ç†
- ğŸ”§ æ”¯æŒ Claude Desktop é›†æˆ

## ğŸ“± æ”¯æŒå¹³å°

### âœ… å·²æ”¯æŒå¹³å°

| å¹³å° | æ”¯æŒçŠ¶æ€ | åŠŸèƒ½ |
|------|---------|------|
| ğŸµ æŠ–éŸ³ | âœ… å®Œæ•´æ”¯æŒ | è§†é¢‘è§£æã€æ–‡æœ¬æå– |
| ğŸ“ å°çº¢ä¹¦ | âœ… å®Œæ•´æ”¯æŒ | è§†é¢‘/å›¾é›†è§£æ |

### ğŸš§ å³å°†æ”¯æŒå¹³å°

| å¹³å° | å¼€å‘çŠ¶æ€ | é¢„è®¡ä¸Šçº¿ |
|------|---------|----------|
| ğŸš€ å¿«æ‰‹ | ğŸ”¨ å¼€å‘ä¸­ | v2.0 |
| ğŸ“º å¾®åšè§†é¢‘ | ğŸ“‹ è®¡åˆ’ä¸­ | v2.1 |
| ğŸª çš®çš®è™¾ | ğŸ“‹ è®¡åˆ’ä¸­ | v2.1 |
| ğŸ­ å¾®è§† | ğŸ“‹ è®¡åˆ’ä¸­ | v2.2 |
| ğŸ‰ è¥¿ç“œè§†é¢‘ | ğŸ“‹ è®¡åˆ’ä¸­ | v2.2 |
| ğŸ¬ æ›´å¤šå¹³å° | ğŸ“‹ è§„åˆ’ä¸­ | æŒç»­æ›´æ–° |

> ğŸ’¡ **æç¤º**: å½“å‰ç‰ˆæœ¬ä¸“æ³¨äºæŠ–éŸ³å’Œå°çº¢ä¹¦çš„ç¨³å®šæ”¯æŒï¼Œå…¶ä»–å¹³å°æ­£åœ¨ç§¯æå¼€å‘ä¸­ï¼

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

- **æ¡†æ¶**: Solon 3.4.0
- **Javaç‰ˆæœ¬**: 17+
- **MCPåè®®**: solon-ai-mcp
- **HTTPå®¢æˆ·ç«¯**: solon-net-httputils + OkHttp3
- **éŸ³è§†é¢‘å¤„ç†**: JAVE2 (FFmpeg JavaåŒ…è£…å™¨)
- **æ–‡ä»¶å·¥å…·**: Hutool
- **JSONå¤„ç†**: Jackson
- **æ„å»ºå·¥å…·**: Maven

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Java 17+
- Maven 3.6+

### 2. ç¼–è¯‘è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
cd /f:/knowledge/yby6-study/yby6-crawling-short-video-mcp-solon

# ç¼–è¯‘é¡¹ç›®
mvn clean package

# è¿è¡ŒæœåŠ¡
mvn solon:run
# æˆ–è€…
java -jar target/yby6-crawling-short-video-mcp-solon.jar
```

## ğŸ› ï¸ MCP å·¥å…·

é¡¹ç›®æä¾›äº†å››ä¸ªæ ¸å¿ƒ MCP å·¥å…·ï¼š

### 1. `share_url_parse_tool` â­

è§£æè§†é¢‘åˆ†äº«é“¾æ¥ï¼Œè·å–è§†é¢‘ä¿¡æ¯

**å‚æ•°ï¼š**
- `shareUrl`: è§†é¢‘åˆ†äº«é“¾æ¥æˆ–åŒ…å«é“¾æ¥çš„æ–‡æœ¬

**è¿”å›ï¼š**
```json
{
  "code": 200,
  "msg": "è§£ææˆåŠŸ",
  "data": {
    "videoUrl": "https://...",
    "coverUrl": "https://...",
    "title": "è§†é¢‘æ ‡é¢˜",
    "author": {
      "uid": "ç”¨æˆ·ID",
      "name": "ç”¨æˆ·æ˜µç§°",
      "avatar": "å¤´åƒURL"
    },
    "images": [
      {
        "url": "å›¾ç‰‡URL",
        "livePhotoUrl": "å®å†µç…§ç‰‡URLï¼ˆå¦‚æœæœ‰ï¼‰"
      }
    ],
    "status": "success",
    "description": "è§†é¢‘æè¿°",
    "usageTip": "ä½¿ç”¨æç¤º"
  }
}
```

### 2. `video_id_parse_tool`

æ ¹æ®å¹³å°å’Œè§†é¢‘IDè§£æè§†é¢‘ä¿¡æ¯

**å‚æ•°ï¼š**
- `source`: è§†é¢‘æ¥æºå¹³å° (douyin/redbook)
- `videoId`: è§†é¢‘ID

**è¿”å›ï¼š** åŒä¸Šæ ¼å¼

### 3. `share_text_parse_tool` â­

ä»è§†é¢‘åˆ†äº«é“¾æ¥æå–è§†é¢‘ä¸­çš„æ–‡æœ¬å†…å®¹ APIï¼šhttps://cloud.siliconflow.cn/i/tbvUltCF

**å‚æ•°ï¼š**
- `shareUrl`: è§†é¢‘åˆ†äº«é“¾æ¥æˆ–åŒ…å«é“¾æ¥çš„æ–‡æœ¬ï¼ˆå¿…éœ€ï¼‰
- `apiKey`: è¯­éŸ³è¯†åˆ«APIå¯†é’¥ï¼ˆå¯é€‰ï¼Œå¦‚ä¸æä¾›åˆ™ä»ç¯å¢ƒå˜é‡ `YBY6_API_KEY` è·å–ï¼‰
- `apiBaseUrl`: APIåŸºç¡€URLï¼ˆå¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨SiliconFlowï¼‰
- `model`: è¯­éŸ³è¯†åˆ«æ¨¡å‹ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨SenseVoiceSmallï¼‰

**è¿”å›ï¼š**
```json
{
  "code": 200,
  "msg": "æå–æˆåŠŸ",
  "data": {
    "text_content": "æå–çš„æ–‡æœ¬å†…å®¹",
    "video_info": {
      "title": "è§†é¢‘æ ‡é¢˜",
      "author": "ä½œè€…ä¿¡æ¯"
    }
  }
}
```

## ğŸ”§ Claude Desktop é…ç½®

åœ¨ `claude_desktop_config.json` ä¸­æ·»åŠ ï¼š

### åŸºç¡€é…ç½®ï¼ˆä»…æ”¯æŒè§†é¢‘è§£æï¼‰

```json
{
  "mcpServers": {
    "video-mcp-server": {
      "command": "java",
      "args": [
        "-jar",
        "/path/to/yby6-crawling-short-video-mcp-solon.jar"
      ],
      "env": {}
    }
  }
}
```

### å®Œæ•´é…ç½®ï¼ˆæ”¯æŒæ–‡æœ¬æå–åŠŸèƒ½ï¼‰

```json
{
  "mcpServers": {
    "video-mcp-server": {
      "command": "java",
      "args": [
        "-jar",
        "/path/to/yby6-crawling-short-video-mcp-solon.jar"
      ],
      "env": {
        "YBY6_API_KEY": "your-siliconflow-api-key-here"
      }
    }
  }
}
```

### ç¯å¢ƒå˜é‡è¯´æ˜

- `YBY6_API_KEY`: SiliconFlow æˆ–å…¶ä»–å…¼å®¹OpenAIæ ¼å¼çš„è¯­éŸ³è¯†åˆ«APIå¯†é’¥
  - è·å–åœ°å€ï¼šhttps://cloud.siliconflow.cn/i/tbvUltCF
  - ç”¨äºè°ƒç”¨è¯­éŸ³è¯†åˆ«æœåŠ¡ï¼Œå°†è§†é¢‘éŸ³é¢‘è½¬æ¢ä¸ºæ–‡æœ¬

### æ·»åŠ æ–°å¹³å°

è¦æ·»åŠ æ–°å¹³å°æ”¯æŒï¼Œéœ€è¦ï¼š

1. åœ¨ `VideoSource` æšä¸¾ä¸­æ·»åŠ æ–°å¹³å°
2. åˆ›å»ºå¯¹åº”çš„ `Parser` å®ç°ç±»
3. åœ¨ `ParserFactory` ä¸­æ³¨å†Œæ–°è§£æå™¨
4. ç¼–å†™å¯¹åº”çš„å•å…ƒæµ‹è¯•

### è‡ªå®šä¹‰é…ç½®

å¯ä»¥é€šè¿‡ä¿®æ”¹ `app.yml` æ¥è‡ªå®šä¹‰é…ç½®ï¼š

- æœåŠ¡ç«¯å£
- æ—¥å¿—çº§åˆ«
- HTTPè¶…æ—¶æ—¶é—´
- MCPå·¥å…·åŒ…æ‰«æè·¯å¾„

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

---

# **æ³¨æ„**: æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ï¼Œè¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ã€‚
# âš ï¸ ä½¿ç”¨é¡»çŸ¥

1. **åˆæ³•ä½¿ç”¨**: è¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ï¼Œä»…ç”¨äºä¸ªäººå­¦ä¹ ç ”ç©¶
2. **ç‰ˆæƒå°Šé‡**: ä¸å¾—ç”¨äºä¾µçŠ¯ä»–äººçŸ¥è¯†äº§æƒçš„è¡Œä¸º
3. **é¢‘ç‡æ§åˆ¶**: é¿å…è¿‡äºé¢‘ç¹çš„è¯·æ±‚ï¼Œé˜²æ­¢è¢«é™åˆ¶è®¿é—®
4. **å…è´£å£°æ˜**: ä½¿ç”¨è€…éœ€è‡ªè¡Œæ‰¿æ‹…ä½¿ç”¨é£é™©å’Œè´£ä»»
5. **å¹³å°é™åˆ¶**: ä¸åŒå¹³å°å¯èƒ½æœ‰ä¸åŒçš„è®¿é—®é™åˆ¶å’Œåçˆ¬ç­–ç•¥
